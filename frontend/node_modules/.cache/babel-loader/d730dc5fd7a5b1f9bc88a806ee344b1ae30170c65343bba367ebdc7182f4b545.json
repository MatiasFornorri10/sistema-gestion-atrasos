{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matia\\\\OneDrive\\\\Desktop\\\\sigaca\\\\frontend\\\\src\\\\pages\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport styles from '../styles/Login.module.css';\n\n// Configuración de axios para la API\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost/sigaca/backend/api',\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nconst MySwal = withReactContent(Swal);\n_c = MySwal;\nconst Login = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [touchedFields, setTouchedFields] = useState({});\n  const isMountedRef = useRef(true);\n  const navigate = useNavigate();\n\n  // Limpieza al desmontar\n  useEffect(() => {\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  // Validación de email\n  const validateEmail = useCallback(email => {\n    const regex = /^[a-zA-Z0-9._-]+@(insucodos|comeduc)\\.cl$/;\n    return regex.test(email);\n  }, []);\n\n  // Validación de contraseña\n  const validatePassword = useCallback(password => {\n    return password && password.length >= 6;\n  }, []);\n\n  // Validación de formulario\n  const validateForm = useCallback(() => {\n    const newErrors = {};\n    if (!formData.email.trim()) {\n      newErrors.email = 'El correo es requerido';\n    } else if (!validateEmail(formData.email)) {\n      newErrors.email = 'Debes usar un correo institucional (@insucodos.cl o @comeduc.cl)';\n    }\n    if (formData.email.endsWith('@comeduc.cl')) {\n      if (!formData.password) {\n        newErrors.password = 'La contraseña es requerida';\n      } else if (!validatePassword(formData.password)) {\n        newErrors.password = 'La contraseña debe tener al menos 6 caracteres';\n      }\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData, validateEmail, validatePassword]);\n\n  // Manejo de cambios en el formulario\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [id]: value\n    }));\n\n    // Limpiar errores cuando el usuario empieza a escribir\n    if (errors[id]) {\n      setErrors(prev => ({\n        ...prev,\n        [id]: ''\n      }));\n    }\n  };\n\n  // Manejo de blur para validación\n  const handleBlur = e => {\n    const {\n      id\n    } = e.target;\n    setTouchedFields(prev => ({\n      ...prev,\n      [id]: true\n    }));\n\n    // Validar campo específico al perder el foco\n    if (id === 'email' && formData.email && !validateEmail(formData.email)) {\n      setErrors(prev => ({\n        ...prev,\n        email: 'Correo institucional no válido'\n      }));\n    } else if (id === 'password' && formData.password && !validatePassword(formData.password)) {\n      setErrors(prev => ({\n        ...prev,\n        password: 'La contraseña debe tener al menos 6 caracteres'\n      }));\n    }\n  };\n\n  // Manejo del envío del formulario\n  const handleSubmit = async e => {\n    var _error$response$data;\n    e.preventDefault();\n    if (!validateForm()) return;\n    setLoading(true);\n    try {\n      const payload = {\n        email: formData.email.trim(),\n        password: formData.email.endsWith('@insucodos.cl') ? null : formData.password\n      };\n      const response = await api.post('/login.php', payload);\n      if (!isMountedRef.current) return;\n\n      // Validar respuesta del servidor\n      if (!response.data.token || !response.data.user) {\n        throw new Error('Respuesta inválida del servidor');\n      }\n\n      // Almacenamiento seguro de token y usuario\n      localStorage.setItem('sigaca_token', response.data.token);\n      localStorage.setItem('sigaca_user', JSON.stringify(response.data.user));\n\n      // Mostrar mensaje de éxito\n      await MySwal.fire({\n        title: '¡Bienvenido!',\n        text: `Hola ${response.data.user.nombre}, accediendo al sistema...`,\n        icon: 'success',\n        timer: 1500,\n        showConfirmButton: false,\n        background: '#f8fafc',\n        color: '#1e293b'\n      });\n\n      // Redirección basada en rol\n      const redirectPaths = {\n        estudiante: '/estudiante',\n        profesor: '/profesor',\n        inspector: '/inspector'\n      };\n      const redirectPath = redirectPaths[response.data.user.rol];\n      if (!redirectPath) {\n        throw new Error('Rol de usuario no válido');\n      }\n      navigate(redirectPath);\n    } catch (error) {\n      if (!isMountedRef.current) return;\n      console.error('Error de login:', error);\n      let errorMessage = 'Error al iniciar sesión';\n      let errorTitle = 'Error';\n      if (error.response) {\n        switch (error.response.status) {\n          case 400:\n            errorMessage = error.response.data.message || 'Datos de entrada inválidos';\n            errorTitle = 'Datos Incorrectos';\n            break;\n          case 401:\n            errorMessage = 'Credenciales incorrectas. Verifica tu correo y contraseña';\n            errorTitle = 'Acceso Denegado';\n            break;\n          case 403:\n            errorMessage = 'Tu cuenta está desactivada. Contacta al administrador';\n            errorTitle = 'Cuenta Desactivada';\n            break;\n          case 404:\n            errorMessage = 'Usuario no encontrado en el sistema';\n            errorTitle = 'Usuario No Encontrado';\n            break;\n          case 429:\n            errorMessage = 'Demasiados intentos de inicio de sesión. Intenta más tarde';\n            errorTitle = 'Límite Excedido';\n            break;\n          case 500:\n            errorMessage = 'Error del servidor. Por favor intenta más tarde';\n            errorTitle = 'Error del Servidor';\n            break;\n          default:\n            errorMessage = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || errorMessage;\n        }\n      } else if (error.request) {\n        errorMessage = 'No se pudo conectar al servidor. Verifica tu conexión a internet';\n        errorTitle = 'Sin Conexión';\n      } else {\n        errorMessage = error.message || errorMessage;\n      }\n      await MySwal.fire({\n        title: errorTitle,\n        text: errorMessage,\n        icon: 'error',\n        confirmButtonText: 'Entendido',\n        confirmButtonColor: '#667eea',\n        allowOutsideClick: false,\n        background: '#f8fafc',\n        color: '#1e293b'\n      });\n    } finally {\n      if (isMountedRef.current) {\n        setLoading(false);\n      }\n    }\n  };\n\n  // Determinar si el botón debe estar habilitado\n  const isFormValid = formData.email.trim() && (!formData.email.endsWith('@comeduc.cl') || formData.password) && Object.keys(errors).length === 0;\n\n  // Obtener el tipo de usuario basado en el dominio\n  const getUserType = () => {\n    if (formData.email.endsWith('@insucodos.cl')) {\n      return 'Estudiante';\n    } else if (formData.email.endsWith('@comeduc.cl')) {\n      return 'Profesor/Inspector';\n    }\n    return '';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.loginContainer,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loginCard,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.loginHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assets/logo-liceo.png\",\n          alt: \"Logo Liceo\",\n          className: styles.logo,\n          loading: \"lazy\",\n          onError: e => {\n            e.target.style.display = 'none';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: styles.title,\n          children: \"Sistema SIGACA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.subtitle,\n          children: \"Gesti\\xF3n de Atrasos Escolares\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), getUserType() && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.userTypeIndicator,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Acceso como: \", getUserType()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: styles.loginForm,\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.labelIcon,\n              children: \"\\uD83D\\uDCE7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), \"Correo Institucional\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            value: formData.email,\n            onChange: handleChange,\n            onBlur: handleBlur,\n            placeholder: \"usuario@insucodos.cl o usuario@comeduc.cl\",\n            required: true,\n            className: errors.email ? styles.invalid : '',\n            autoComplete: \"username\",\n            disabled: loading,\n            \"aria-describedby\": errors.email ? 'email-error' : undefined\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"email-error\",\n            className: styles.errorText,\n            role: \"alert\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), formData.email.endsWith('@comeduc.cl') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.formGroup} ${styles.passwordGroup}`,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.labelIcon,\n              children: \"\\uD83D\\uDD12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this), \"Contrase\\xF1a\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.passwordInputContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: showPassword ? 'text' : 'password',\n              id: \"password\",\n              value: formData.password,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              placeholder: \"Ingresa tu contrase\\xF1a\",\n              required: true,\n              className: errors.password ? styles.invalid : '',\n              autoComplete: \"current-password\",\n              disabled: loading,\n              \"aria-describedby\": errors.password ? 'password-error' : undefined\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: styles.togglePassword,\n              onClick: () => setShowPassword(!showPassword),\n              \"aria-label\": showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña',\n              disabled: loading,\n              children: showPassword ? '🙈' : '👁️'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this), errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"password-error\",\n            className: styles.errorText,\n            role: \"alert\",\n            children: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: styles.loginButton,\n          disabled: loading || !isFormValid,\n          \"aria-busy\": loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.spinner,\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Iniciando sesi\\xF3n...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.buttonIcon,\n              children: \"\\uD83D\\uDE80\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Ingresar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.loginFooter,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.helpSection,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\xBFProblemas para ingresar?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Contacta al administrador del sistema\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.infoSection,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.domainInfo,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Estudiantes:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), \" @insucodos.cl (sin contrase\\xF1a)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.domainInfo,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Profesores:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), \" @comeduc.cl (con contrase\\xF1a)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.versionInfo,\n          children: [\"SIGACA v2.0 - \", new Date().getFullYear()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"wkDpKgWgHhWpWcWRFkwt2K+26jM=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Login;\nexport default _c3 = /*#__PURE__*/React.memo(Login);\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MySwal\");\n$RefreshReg$(_c2, \"Login\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","useRef","useNavigate","axios","Swal","withReactContent","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","api","create","baseURL","process","env","REACT_APP_API_URL","timeout","headers","MySwal","_c","Login","_s","formData","setFormData","email","password","loading","setLoading","showPassword","setShowPassword","errors","setErrors","touchedFields","setTouchedFields","isMountedRef","navigate","current","validateEmail","regex","test","validatePassword","length","validateForm","newErrors","trim","endsWith","Object","keys","handleChange","e","id","value","target","prev","handleBlur","handleSubmit","_error$response$data","preventDefault","payload","response","post","data","token","user","Error","localStorage","setItem","JSON","stringify","fire","title","text","nombre","icon","timer","showConfirmButton","background","color","redirectPaths","estudiante","profesor","inspector","redirectPath","rol","error","console","errorMessage","errorTitle","status","message","request","confirmButtonText","confirmButtonColor","allowOutsideClick","isFormValid","getUserType","className","loginContainer","children","loginCard","loginHeader","src","alt","logo","onError","style","display","fileName","_jsxFileName","lineNumber","columnNumber","subtitle","userTypeIndicator","onSubmit","loginForm","noValidate","formGroup","htmlFor","labelIcon","type","onChange","onBlur","placeholder","required","invalid","autoComplete","disabled","undefined","errorText","role","passwordGroup","passwordInputContainer","togglePassword","onClick","loginButton","spinner","buttonIcon","loginFooter","helpSection","infoSection","domainInfo","versionInfo","Date","getFullYear","_c2","_c3","memo","$RefreshReg$"],"sources":["C:/Users/matia/OneDrive/Desktop/sigaca/frontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState, useCallback, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport withReactContent from 'sweetalert2-react-content';\r\nimport styles from '../styles/Login.module.css';\r\n\r\n// Configuración de axios para la API\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost/sigaca/backend/api',\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  const [touchedFields, setTouchedFields] = useState({});\r\n  const isMountedRef = useRef(true);\r\n  const navigate = useNavigate();\r\n\r\n  // Limpieza al desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      isMountedRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  // Validación de email\r\n  const validateEmail = useCallback((email) => {\r\n    const regex = /^[a-zA-Z0-9._-]+@(insucodos|comeduc)\\.cl$/;\r\n    return regex.test(email);\r\n  }, []);\r\n\r\n  // Validación de contraseña\r\n  const validatePassword = useCallback((password) => {\r\n    return password && password.length >= 6;\r\n  }, []);\r\n\r\n  // Validación de formulario\r\n  const validateForm = useCallback(() => {\r\n    const newErrors = {};\r\n    \r\n    if (!formData.email.trim()) {\r\n      newErrors.email = 'El correo es requerido';\r\n    } else if (!validateEmail(formData.email)) {\r\n      newErrors.email = 'Debes usar un correo institucional (@insucodos.cl o @comeduc.cl)';\r\n    }\r\n\r\n    if (formData.email.endsWith('@comeduc.cl')) {\r\n      if (!formData.password) {\r\n        newErrors.password = 'La contraseña es requerida';\r\n      } else if (!validatePassword(formData.password)) {\r\n        newErrors.password = 'La contraseña debe tener al menos 6 caracteres';\r\n      }\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  }, [formData, validateEmail, validatePassword]);\r\n\r\n  // Manejo de cambios en el formulario\r\n  const handleChange = (e) => {\r\n    const { id, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [id]: value,\r\n    }));\r\n    \r\n    // Limpiar errores cuando el usuario empieza a escribir\r\n    if (errors[id]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [id]: '',\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Manejo de blur para validación\r\n  const handleBlur = (e) => {\r\n    const { id } = e.target;\r\n    setTouchedFields(prev => ({\r\n      ...prev,\r\n      [id]: true,\r\n    }));\r\n\r\n    // Validar campo específico al perder el foco\r\n    if (id === 'email' && formData.email && !validateEmail(formData.email)) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        email: 'Correo institucional no válido',\r\n      }));\r\n    } else if (id === 'password' && formData.password && !validatePassword(formData.password)) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        password: 'La contraseña debe tener al menos 6 caracteres',\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Manejo del envío del formulario\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) return;\r\n    \r\n    setLoading(true);\r\n    \r\n    try {\r\n      const payload = {\r\n        email: formData.email.trim(),\r\n        password: formData.email.endsWith('@insucodos.cl') ? null : formData.password\r\n      };\r\n\r\n      const response = await api.post('/login.php', payload);\r\n\r\n      if (!isMountedRef.current) return;\r\n\r\n      // Validar respuesta del servidor\r\n      if (!response.data.token || !response.data.user) {\r\n        throw new Error('Respuesta inválida del servidor');\r\n      }\r\n\r\n      // Almacenamiento seguro de token y usuario\r\n      localStorage.setItem('sigaca_token', response.data.token);\r\n      localStorage.setItem('sigaca_user', JSON.stringify(response.data.user));\r\n\r\n      // Mostrar mensaje de éxito\r\n      await MySwal.fire({\r\n        title: '¡Bienvenido!',\r\n        text: `Hola ${response.data.user.nombre}, accediendo al sistema...`,\r\n        icon: 'success',\r\n        timer: 1500,\r\n        showConfirmButton: false,\r\n        background: '#f8fafc',\r\n        color: '#1e293b',\r\n      });\r\n\r\n      // Redirección basada en rol\r\n      const redirectPaths = {\r\n        estudiante: '/estudiante',\r\n        profesor: '/profesor',\r\n        inspector: '/inspector',\r\n      };\r\n\r\n      const redirectPath = redirectPaths[response.data.user.rol];\r\n      if (!redirectPath) {\r\n        throw new Error('Rol de usuario no válido');\r\n      }\r\n\r\n      navigate(redirectPath);\r\n\r\n    } catch (error) {\r\n      if (!isMountedRef.current) return;\r\n\r\n      console.error('Error de login:', error);\r\n      \r\n      let errorMessage = 'Error al iniciar sesión';\r\n      let errorTitle = 'Error';\r\n      \r\n      if (error.response) {\r\n        switch(error.response.status) {\r\n          case 400:\r\n            errorMessage = error.response.data.message || 'Datos de entrada inválidos';\r\n            errorTitle = 'Datos Incorrectos';\r\n            break;\r\n          case 401:\r\n            errorMessage = 'Credenciales incorrectas. Verifica tu correo y contraseña';\r\n            errorTitle = 'Acceso Denegado';\r\n            break;\r\n          case 403:\r\n            errorMessage = 'Tu cuenta está desactivada. Contacta al administrador';\r\n            errorTitle = 'Cuenta Desactivada';\r\n            break;\r\n          case 404:\r\n            errorMessage = 'Usuario no encontrado en el sistema';\r\n            errorTitle = 'Usuario No Encontrado';\r\n            break;\r\n          case 429:\r\n            errorMessage = 'Demasiados intentos de inicio de sesión. Intenta más tarde';\r\n            errorTitle = 'Límite Excedido';\r\n            break;\r\n          case 500:\r\n            errorMessage = 'Error del servidor. Por favor intenta más tarde';\r\n            errorTitle = 'Error del Servidor';\r\n            break;\r\n          default:\r\n            errorMessage = error.response.data?.message || errorMessage;\r\n        }\r\n      } else if (error.request) {\r\n        errorMessage = 'No se pudo conectar al servidor. Verifica tu conexión a internet';\r\n        errorTitle = 'Sin Conexión';\r\n      } else {\r\n        errorMessage = error.message || errorMessage;\r\n      }\r\n\r\n      await MySwal.fire({\r\n        title: errorTitle,\r\n        text: errorMessage,\r\n        icon: 'error',\r\n        confirmButtonText: 'Entendido',\r\n        confirmButtonColor: '#667eea',\r\n        allowOutsideClick: false,\r\n        background: '#f8fafc',\r\n        color: '#1e293b',\r\n      });\r\n\r\n    } finally {\r\n      if (isMountedRef.current) {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Determinar si el botón debe estar habilitado\r\n  const isFormValid = formData.email.trim() && \r\n    (!formData.email.endsWith('@comeduc.cl') || formData.password) &&\r\n    Object.keys(errors).length === 0;\r\n\r\n  // Obtener el tipo de usuario basado en el dominio\r\n  const getUserType = () => {\r\n    if (formData.email.endsWith('@insucodos.cl')) {\r\n      return 'Estudiante';\r\n    } else if (formData.email.endsWith('@comeduc.cl')) {\r\n      return 'Profesor/Inspector';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  return (\r\n    <div className={styles.loginContainer}>\r\n      <div className={styles.loginCard}>\r\n        <div className={styles.loginHeader}>\r\n          <img \r\n            src=\"/assets/logo-liceo.png\" \r\n            alt=\"Logo Liceo\" \r\n            className={styles.logo}\r\n            loading=\"lazy\"\r\n            onError={(e) => {\r\n              e.target.style.display = 'none';\r\n            }}\r\n          />\r\n          <h2 className={styles.title}>Sistema SIGACA</h2>\r\n          <p className={styles.subtitle}>Gestión de Atrasos Escolares</p>\r\n          {getUserType() && (\r\n            <div className={styles.userTypeIndicator}>\r\n              <span>Acceso como: {getUserType()}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className={styles.loginForm} noValidate>\r\n          <div className={styles.formGroup}>\r\n            <label htmlFor=\"email\">\r\n              <span className={styles.labelIcon}>📧</span>\r\n              Correo Institucional\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"usuario@insucodos.cl o usuario@comeduc.cl\"\r\n              required\r\n              className={errors.email ? styles.invalid : ''}\r\n              autoComplete=\"username\"\r\n              disabled={loading}\r\n              aria-describedby={errors.email ? 'email-error' : undefined}\r\n            />\r\n            {errors.email && (\r\n              <span id=\"email-error\" className={styles.errorText} role=\"alert\">\r\n                {errors.email}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          {formData.email.endsWith('@comeduc.cl') && (\r\n            <div className={`${styles.formGroup} ${styles.passwordGroup}`}>\r\n              <label htmlFor=\"password\">\r\n                <span className={styles.labelIcon}>🔒</span>\r\n                Contraseña\r\n              </label>\r\n              <div className={styles.passwordInputContainer}>\r\n                <input\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  id=\"password\"\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  placeholder=\"Ingresa tu contraseña\"\r\n                  required\r\n                  className={errors.password ? styles.invalid : ''}\r\n                  autoComplete=\"current-password\"\r\n                  disabled={loading}\r\n                  aria-describedby={errors.password ? 'password-error' : undefined}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className={styles.togglePassword}\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  aria-label={showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'}\r\n                  disabled={loading}\r\n                >\r\n                  {showPassword ? '🙈' : '👁️'}\r\n                </button>\r\n              </div>\r\n              {errors.password && (\r\n                <span id=\"password-error\" className={styles.errorText} role=\"alert\">\r\n                  {errors.password}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <button \r\n            type=\"submit\" \r\n            className={styles.loginButton} \r\n            disabled={loading || !isFormValid}\r\n            aria-busy={loading}\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <span className={styles.spinner} aria-hidden=\"true\"></span> \r\n                <span>Iniciando sesión...</span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span className={styles.buttonIcon}>🚀</span>\r\n                <span>Ingresar</span>\r\n              </>\r\n            )}\r\n          </button>\r\n        </form>\r\n\r\n        <div className={styles.loginFooter}>\r\n          <div className={styles.helpSection}>\r\n            <p>¿Problemas para ingresar?</p>\r\n            <p>Contacta al administrador del sistema</p>\r\n          </div>\r\n          <div className={styles.infoSection}>\r\n            <p className={styles.domainInfo}>\r\n              <strong>Estudiantes:</strong> @insucodos.cl (sin contraseña)\r\n            </p>\r\n            <p className={styles.domainInfo}>\r\n              <strong>Profesores:</strong> @comeduc.cl (con contraseña)\r\n            </p>\r\n          </div>\r\n          <p className={styles.versionInfo}>\r\n            SIGACA v2.0 - {new Date().getFullYear()}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Login);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}